<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>æŠ—æˆ°å‹åˆ©80é€±å¹´è¨˜æ†¶éŠæˆ²</title>
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    
    body {
      font-family: 'Microsoft JhengHei', sans-serif;
      background: linear-gradient(to bottom, #f9f2d9, #f5e6ca);
      color: #8B0000;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 20px;
    }
    
    header {
      text-align: center;
      margin-bottom: 30px;
      width: 100%;
      padding: 15px;
      background: rgba(139, 0, 0, 0.1);
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }
    
    h1 {
      font-size: 2.2rem;
      color: #8B0000;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
      margin-bottom: 10px;
    }
    
    .subtitle {
      font-size: 1.1rem;
      color: #B22222;
      margin-bottom: 10px;
    }
    
    .date {
      font-size: 1rem;
      color: #8B0000;
      font-weight: bold;
    }
    
    .game-info {
      display: flex;
      justify-content: space-between;
      width: 90%;
      max-width: 700px;
      margin-bottom: 20px;
      background: rgba(255, 215, 0, 0.2);
      padding: 15px;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }
    
    .info-item {
      text-align: center;
      flex: 1;
    }
    
    .info-item span {
      font-weight: bold;
      color: #8B0000;
      font-size: 1.5rem;
      display: block;
      margin-top: 5px;
    }
    
    .game-container {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      grid-gap: 12px;
      width: 90%;
      max-width: 700px;
      margin: 0 auto;
      padding: 15px;
      background: rgba(139, 0, 0, 0.1);
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }
    
    .card {
      perspective: 1000px;
      height: 120px;
    }

    .card-inner {
      position: relative;
      width: 100%;
      height: 100%;
      transition: transform 0.6s;
      transform-style: preserve-3d;
    }

    .card.flipped .card-inner {
      transform: rotateY(180deg);
    }

    .card-front, .card-back {
      position: absolute;
      width: 100%;
      height: 100%;
      backface-visibility: hidden;
      border-radius: 8px;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 2rem;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
    }

    .card-front {
      background: linear-gradient(to bottom, #8B0000, #6A0A0A);
      color: transparent;
    }

    .card-back {
      background: linear-gradient(to bottom, #FFD700, #E5C100);
      color: #8B0000;
      font-size: 2rem;
      transform: rotateY(180deg);
    }

    .card.matched .card-back {
      background: linear-gradient(to bottom, #32CD32, #2AB32A);
      color: white;
    }

    .controls {
      margin-top: 30px;
      display: flex;
      gap: 20px;
    }
    
    button {
      padding: 12px 25px;
      background: #8B0000;
      color: #FFD700;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-size: 1.1rem;
      font-weight: bold;
      transition: all 0.3s;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    }
    
    button:hover {
      background: #B22222;
      transform: translateY(-2px);
    }
    
    .history-fact {
      margin-top: 30px;
      width: 90%;
      max-width: 700px;
      background: rgba(255, 215, 0, 0.3);
      padding: 20px;
      border-radius: 10px;
      text-align: center;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      transition: all 0.5s;
    }
    
    .history-fact h3 {
      color: #8B0000;
      margin-bottom: 10px;
      border-bottom: 2px solid #8B0000;
      padding-bottom: 5px;
    }
    
    #fact-text {
      font-size: 1.1rem;
      line-height: 1.6;
      min-height: 80px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .victory-badge {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) scale(0);
      background: linear-gradient(to bottom, #FFD700, #8B0000);
      padding: 30px;
      border-radius: 15px;
      text-align: center;
      color: white;
      z-index: 100;
      box-shadow: 0 0 0 100vmax rgba(0,0,0,0.8);
      transition: transform 0.5s;
    }
    
    .victory-badge.show {
      transform: translate(-50%, -50%) scale(1);
    }
    
    @media (max-width: 600px) {
      .game-container {
        grid-template-columns: repeat(4, 1fr); /* å›ºå®šå››åˆ— */
      }
      
      .card {
        height: 80px;
      }
      
      h1 {
        font-size: 1.5rem;
      }
      
      .game-info {
        flex-direction: column;
        gap: 10px;
      }
    }
  </style>
</head>
<body>
  <header>
    <h1>æŠ—æˆ°å‹åˆ©80é€±å¹´è¨˜æ†¶éŠæˆ²</h1>
    <p class="subtitle">åŒ¹é…å¡ç‰‡ï¼Œäº†è§£æ­·å²ï¼Œç·¬æ‡·å…ˆçƒˆ</p>
    <p class="date">1937-1945 Â· 2025å¹´ç´€å¿µ</p>
  </header>
  
  <div class="game-info">
    <div class="info-item">
      <p>æ­¥æ•¸</p>
      <span id="moves">0</span>
    </div>
    <div class="info-item">
      <p>åŒ¹é…æ•¸</p>
      <span id="matches">0</span>/8
    </div>
    <div class="info-item">
      <p>æ™‚é–“</p>
      <span id="timer">0</span>s
    </div>
  </div>
  
  <div class="game-container" id="game-container"></div>
  
  <div class="controls">
    <button id="restart">é‡æ–°é–‹å§‹</button>
  </div>
  
  <div class="history-fact">
    <h3>æŠ—æˆ°æ­·å²çŸ¥è­˜</h3>
    <p id="fact-text">ä¸­åœ‹äººæ°‘æŠ—æ—¥æˆ°çˆ­æ˜¯ä¸­è¯æ°‘æ—æ­·å²ä¸Šæœ€å‰å¤§çš„è¡›åœ‹æˆ°çˆ­ï¼Œæ˜¯ä¸­åœ‹äººæ°‘åæŠ—æ—¥æœ¬å¸åœ‹ä¸»ç¾©ä¾µç•¥çš„æ­£ç¾©æˆ°çˆ­ã€‚</p>
  </div>
  
  <div class="victory-badge" id="victory-badge">
    <h2>æ­å–œä½ ç²å‹ï¼</h2>
    <p>ä½ æˆåŠŸå®Œæˆäº†æŠ—æˆ°å‹åˆ©è¨˜æ†¶éŠæˆ²</p>
    <p>ç·¬æ‡·å…ˆçƒˆï¼Œçæ„›å’Œå¹³</p>
    <button id="close-victory">ç¹¼çºŒéŠæˆ²</button>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const gameSymbols = ['ğŸ‡¨ğŸ‡³', 'ğŸ•Šï¸', 'ğŸ–ï¸', 'âœŠ', 'â­', 'ğŸ””', 'ğŸ›ï¸', 'ğŸ“œ'];
      const historicalFacts = [
        "ä¸­åœ‹äººæ°‘æŠ—æ—¥æˆ°çˆ­å§‹æ–¼1937å¹´7æœˆ7æ—¥çš„ç›§æºæ©‹äº‹è®Šï¼ŒæŒçºŒäº†8å¹´ä¹‹ä¹…ã€‚",
        "1945å¹´8æœˆ15æ—¥ï¼Œæ—¥æœ¬å®£å¸ƒç„¡æ¢ä»¶æŠ•é™ï¼Œ9æœˆ2æ—¥æ­£å¼ç°½ç½²æŠ•é™æ›¸ã€‚",
        "æŠ—æˆ°æœŸé–“ï¼Œä¸­åœ‹è»æ°‘å‚·äº¡è¶…é3500è¬äººï¼Œç¶“æ¿Ÿæå¤±é”6000å„„ç¾å…ƒã€‚",
        "æŠ—æ—¥æˆ°çˆ­æ˜¯ç¬¬äºŒæ¬¡ä¸–ç•Œå¤§æˆ°çš„é‡è¦çµ„æˆéƒ¨åˆ†ï¼Œä¸­åœ‹æˆ°å ´æ˜¯æ±æ–¹ä¸»æˆ°å ´ã€‚",
        "ç™¾åœ˜å¤§æˆ°æ˜¯å…«è·¯è»åœ¨è¯åŒ—åœ°å€ç™¼å‹•çš„ä¸€æ¬¡å¤§è¦æ¨¡é€²æ”»æˆ°å½¹ï¼Œæ²‰é‡æ‰“æ“Šäº†æ—¥è»ã€‚",
        "è‡ºå…’èŠæˆ°å½¹æ˜¯ä¸­åœ‹è»éšŠåœ¨æŠ—æˆ°ä¸­å–å¾—çš„é¦–æ¬¡é‡å¤§å‹åˆ©ï¼Œæ¥µå¤§åœ°é¼“èˆäº†å…¨åœ‹è»æ°‘ã€‚",
        "æŠ—æˆ°æœŸé–“ï¼Œä¸­åœ‹å¾—åˆ°äº†è˜‡è¯ã€ç¾åœ‹ç­‰åæ³•è¥¿æ–¯ç›Ÿåœ‹çš„æ´åŠ©ã€‚",
        "æŠ—æˆ°å‹åˆ©æ˜¯è¿‘ä»£ä»¥ä¾†ä¸­åœ‹æŠ—æ“Šå¤–æ•µå…¥ä¾µçš„ç¬¬ä¸€æ¬¡å®Œå…¨å‹åˆ©ã€‚",
        "ä¹ä¸€å…«äº‹è®Šæ˜¯æ—¥æœ¬å¸åœ‹ä¸»ç¾©ä¾µè¯çš„é–‹ç«¯ï¼Œç™¼ç”Ÿåœ¨1931å¹´9æœˆ18æ—¥ã€‚",
        "å—äº¬å¤§å± æ®ºæ˜¯æŠ—æˆ°æœŸé–“æœ€æ…˜ç—›çš„äº‹ä»¶ä¹‹ä¸€ï¼Œ30è¬ä»¥ä¸ŠåŒèƒé‡é›£ã€‚",
        "å¹³å‹é—œå¤§æ·æ˜¯å…«è·¯è»å‡ºå¸«æŠ—æ—¥é¦–æˆ°å‹åˆ©ï¼Œæ‰“ç ´äº†æ—¥è»ä¸å¯æˆ°å‹çš„ç¥è©±ã€‚",
        "æ»‡ç·¬å…¬è·¯æ˜¯æŠ—æˆ°æ™‚æœŸä¸­åœ‹èˆ‡åœ‹éš›è¯ç¹«çš„é‡è¦é€šé“ï¼Œè¢«ç¨±ç‚ºç”Ÿå‘½ç·šã€‚",
        "é£›è™éšŠæ˜¯ç¾åœ‹å¿—é¡˜èˆªç©ºéšŠï¼Œç‚ºä¸­åœ‹çš„æŠ—æˆ°æä¾›äº†é‡è¦ç©ºä¸­æ”¯æ´ã€‚",
        "å…«è·¯è»ã€æ–°å››è»æ˜¯ä¸­åœ‹å…±ç”¢é»¨é ˜å°çš„æŠ—æ—¥æ­¦è£åŠ›é‡ã€‚",
        "æŠ—æˆ°æœŸé–“ï¼Œæµ·å¤–è¯åƒ‘ç‚ºç¥–åœ‹æŠ—æˆ°ææ¬¾æç‰©ï¼Œåšå‡ºäº†å·¨å¤§è²¢ç»ã€‚",
        "æ¯›æ¾¤æ±ã€Šè«–æŒä¹…æˆ°ã€‹ç‚ºä¸­åœ‹äººæ°‘æŠ—æ—¥æˆ°çˆ­æŒ‡æ˜äº†æ–¹å‘å’Œé“è·¯ã€‚"
      ];
      
      const gameContainer = document.getElementById('game-container');
      const movesElement = document.getElementById('moves');
      const matchesElement = document.getElementById('matches');
      const timerElement = document.getElementById('timer');
      const restartButton = document.getElementById('restart');
      const factText = document.getElementById('fact-text');
      const victoryBadge = document.getElementById('victory-badge');
      const closeVictoryButton = document.getElementById('close-victory');
      
      let hasFlippedCard = false;
      let lockBoard = false;
      let firstCard, secondCard;
      let moves = 0;
      let matches = 0;
      let timer = 0;
      let timerInterval;
      let usedFacts = [];
      
      function initGame() {
        clearInterval(timerInterval);
        moves = 0;
        matches = 0;
        timer = 0;
        movesElement.textContent = moves;
        matchesElement.textContent = matches;
        timerElement.textContent = timer;
        usedFacts = [];
        gameContainer.innerHTML = '';
        
        let gameCards = [];
        gameSymbols.forEach(symbol => {
          gameCards.push(symbol);
          gameCards.push(symbol);
        });
        
        gameCards.sort(() => Math.random() - 0.5);
        
        gameCards.forEach(symbol => {
          const card = document.createElement('div');
          card.classList.add('card');
          card.dataset.symbol = symbol;
          card.innerHTML = `
            <div class="card-inner">
              <div class="card-front"></div>
              <div class="card-back">${symbol}</div>
            </div>`;
          card.addEventListener('click', flipCard);
          gameContainer.appendChild(card);
        });
        
        updateHistoricalFact();
        startTimer();
      }
      
      function startTimer() {
        clearInterval(timerInterval);
        timerInterval = setInterval(() => {
          timer++;
          timerElement.textContent = timer;
        }, 1000);
      }
      
      function flipCard() {
        if (lockBoard) return;
        if (this === firstCard) return;
        if (this.classList.contains('matched')) return;
        
        this.classList.add('flipped');
        
        if (!hasFlippedCard) {
          hasFlippedCard = true;
          firstCard = this;
          return;
        }
        
        secondCard = this;
        moves++;
        movesElement.textContent = moves;
        updateHistoricalFact();
        checkForMatch();
      }
      
      function checkForMatch() {
        let isMatch = firstCard.dataset.symbol === secondCard.dataset.symbol;
        if (isMatch) {
          disableCards();
          matches++;
          matchesElement.textContent = matches;
          if (matches === gameSymbols.length) {
            setTimeout(() => {
              victoryBadge.classList.add('show');
            }, 800);
          }
        } else {
          unflipCards();
        }
      }
      
      function disableCards() {
        firstCard.classList.add('matched');
        secondCard.classList.add('matched');
        resetBoard();
      }
      
      function unflipCards() {
        lockBoard = true;
        setTimeout(() => {
          firstCard.classList.remove('flipped');
          secondCard.classList.remove('flipped');
          resetBoard();
        }, 1000);
      }
      
      function resetBoard() {
        [hasFlippedCard, lockBoard] = [false, false];
        [firstCard, secondCard] = [null, null];
      }
      
      function updateHistoricalFact() {
        if (usedFacts.length >= historicalFacts.length) {
          usedFacts = [];
        }
        let availableFacts = historicalFacts.filter(fact => !usedFacts.includes(fact));
        const randomFact = availableFacts[Math.floor(Math.random() * availableFacts.length)];
        usedFacts.push(randomFact);
        factText.style.opacity = 0;
        setTimeout(() => {
          factText.textContent = randomFact;
          factText.style.opacity = 1;
        }, 300);
      }
      
      restartButton.addEventListener('click', initGame);
      closeVictoryButton.addEventListener('click', () => {
        victoryBadge.classList.remove('show');
        initGame();
      });
      
      initGame();
    });
  </script>
</body>
</html>
